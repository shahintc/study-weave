/** Add 'custom' to artifact assessment types */

module.exports = {
  up: async (queryInterface, Sequelize) => {
    // Postgres enum name generated by Sequelize for ArtifactAssessment.assessmentType
    const enumName = 'enum_artifact_assessments_assessment_type';
    await queryInterface.sequelize.query(
      `ALTER TYPE "${enumName}" ADD VALUE IF NOT EXISTS 'custom';`,
    );
  },

  down: async () => {
    // Removing enum values in Postgres is non-trivial; leaving as no-op.
    return Promise.resolve();
  },
};
